<nav class="medical-nav " *ngIf="!isLoginPage()">
  <div class="nav-wrapper">
   <div class="nav-main">
  <a class="brand" routerLink="/home">
    <div class="brand-logo">
      <img
        src="assets/logore.png"
        alt="RE Logo"
        class="logo-img"
      />
    </div>

    <div class="brand-name">
      <span class="primary">RE</span>
    </div>
  </a>
</div>



    <div class="nav-center">
      <div class="nav-menu">

        <a class="nav-item" routerLink="/home" routerLinkActive="active">
          <div class="nav-icon">
            <i class="fas fa-home"></i>
          </div>
          <span class="nav-label">Accueil</span>
          <div class="nav-indicator"></div>
        </a>

        <a class="nav-item" routerLink="/profile" routerLinkActive="active">
          <div class="nav-icon">
            <i class="fas fa-user"></i>
          </div>
          <span class="nav-label">Profil</span>
          <div class="nav-indicator"></div>
        </a>
        <a class="nav-item" routerLink="/posts" routerLinkActive="active">
          <div class="nav-icon">
            <i class="fas fa-user"></i>
          </div>
          <span class="nav-label">Posts</span>
          <div class="nav-indicator"></div>
        </a>

        <a class="nav-item" *ngIf="role === 'USER'" routerLink="/mood" routerLinkActive="active">
          <div class="nav-icon">
            <i class="fas fa-clipboard-check"></i>
          </div>
          <span class="nav-label">Évaluation</span>
          <div class="nav-indicator"></div>
        </a>

        <a class="nav-item" *ngIf="role === 'USER'" routerLink="/ex-pas" routerLinkActive="active">
          <div class="nav-icon">
            <i class="fas fa-dumbbell"></i>
          </div>
          <span class="nav-label">Mes Exercises</span>
          <div class="nav-indicator"></div>
        </a>

        <a class="nav-item" *ngIf="role === 'USER'" routerLink="/graphique" routerLinkActive="active">
          <div class="nav-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <span class="nav-label">Graphiques</span>
          <div class="nav-indicator"></div>
        </a>

        <a class="nav-item" *ngIf="role === 'COACH'" routerLink="/ex-coa" routerLinkActive="active">
          <div class="nav-icon">
            <i class="fas fa-list-check"></i>
          </div>
          <span class="nav-label">Exercices Coach</span>
          <div class="nav-indicator"></div>
        </a>

        <a class="nav-item" *ngIf="role === 'COACH'" routerLink="/list-eva" routerLinkActive="active">
          <div class="nav-icon">
            <i class="fas fa-clipboard-list"></i>
          </div>
          <span class="nav-label">Liste Évaluations</span>
          <div class="nav-indicator"></div>
        </a>

        <a class="nav-item" *ngIf="role === 'ADMIN'" routerLink="/admin-users" routerLinkActive="active">
          <div class="nav-icon">
            <i class="fas fa-users-cog"></i>
          </div>
          <span class="nav-label">Gestion Utilisateurs</span>
          <div class="nav-indicator"></div>
        </a>
      
      </div>
    </div>

    <div class="nav-user">
      <div class="user-profile">
        <div class="user-avatar" *ngIf="role === 'USER'">
          <img [src]="currentUser?.avatar || '/assets/user.png'" alt="Avatar">
          <div class="user-status" [class]="getUserStatus()"></div>
        </div>
        <div class="user-avatar" *ngIf="role === 'COACH'">
          <img [src]="currentUser?.avatar || '/assets/coach.png'" alt="Avatar">
          <div class="user-status" [class]="getUserStatus()"></div>
        </div>
        <div class="user-info">
          <span class="user-name">{{ currentUser?.prenom }} {{ currentUser?.nom }}</span>
          <span class="user-role">{{ getRoleText(currentUser?.role) }}</span>
        </div>
        <div class="user-actions">
          <button class="action-btn notification-btn">
            <i class="fas fa-bell"></i>
            <span class="notification-badge">3</span>
          </button>
          <button class="action-btn logout-btn" (click)="logout()">
            <i class="fas fa-sign-out-alt"></i>
          </button>
        </div>
      </div>
    </div>

    <button class="mobile-toggle" (click)="toggleMobileMenu()">
      <span class="toggle-line"></span>
      <span class="toggle-line"></span>
      <span class="toggle-line"></span>
    </button>
  </div>

  <div class="mobile-nav" [class.active]="mobileMenuOpen">
    <div class="mobile-backdrop" (click)="closeMobileMenu()"></div>
    <div class="mobile-panel">
      <div class="mobile-header">
        <div class="mobile-user-card">
          <div class="user-avatar large">
            <img [src]="currentUser?.avatar || '/assets/default-avatar.png'" alt="Avatar">
          </div>
          <div class="user-details">
            <h3>{{ currentUser?.prenom }} {{ currentUser?.nom }}</h3>
            <p>{{ getRoleText(currentUser?.role) }}</p>
          </div>
        </div>
        <button class="mobile-close" (click)="closeMobileMenu()">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="mobile-menu">
        <a class="mobile-item" routerLink="/home" (click)="closeMobileMenu()" routerLinkActive="active">
          <i class="fas fa-home"></i>
          <span>Accueil</span>
          <i class="item-arrow fas fa-chevron-right"></i>
        </a>

        <a class="mobile-item" routerLink="/profile" (click)="closeMobileMenu()" routerLinkActive="active">
          <i class="fas fa-user"></i>
          <span>Profil</span>
          <i class="item-arrow fas fa-chevron-right"></i>
        </a>

        <div class="mobile-section" *ngIf="role === 'USER'">
          <h4 class="section-title">Espace Patient</h4>
          <a class="mobile-item" routerLink="/mood" (click)="closeMobileMenu()" routerLinkActive="active">
            <i class="fas fa-clipboard-check"></i>
            <span>Évaluation</span>
            <i class="item-arrow fas fa-chevron-right"></i>
          </a>
          <a class="mobile-item" routerLink="/ex-pas" (click)="closeMobileMenu()" routerLinkActive="active">
            <i class="fas fa-dumbbell"></i>
            <span>Mes Exercises</span>
            <i class="item-arrow fas fa-chevron-right"></i>
          </a>
          <a class="mobile-item" routerLink="/graphique" (click)="closeMobileMenu()" routerLinkActive="active">
            <i class="fas fa-chart-line"></i>
            <span>Graphiques</span>
            <i class="item-arrow fas fa-chevron-right"></i>
          </a>
        </div>

        <div class="mobile-section" *ngIf="role === 'COACH'">
          <h4 class="section-title">Espace Coach</h4>
          <a class="mobile-item" routerLink="/ex-coa" (click)="closeMobileMenu()" routerLinkActive="active">
            <i class="fas fa-list-check"></i>
            <span>Exercices Coach</span>
            <i class="item-arrow fas fa-chevron-right"></i>
          </a>
          <a class="mobile-item" routerLink="/list-eva" (click)="closeMobileMenu()" routerLinkActive="active">
            <i class="fas fa-clipboard-list"></i>
            <span>Liste Évaluations</span>
            <i class="item-arrow fas fa-chevron-right"></i>
          </a>
        </div>

        <div class="mobile-section" *ngIf="role === 'ADMIN'">
          <h4 class="section-title">Espace Administrateur</h4>
          <a class="mobile-item" routerLink="/admin-users" (click)="closeMobileMenu()" routerLinkActive="active">
            <i class="fas fa-users-cog"></i>
            <span>Gestion Utilisateurs</span>
            <i class="item-arrow fas fa-chevron-right"></i>
          </a>
        </div>
      </div>

      <div class="mobile-footer">
        <button class="mobile-action-btn" (click)="logout(); closeMobileMenu()">
          <i class="fas fa-sign-out-alt"></i>
          <span>Déconnexion</span>
        </button>
      </div>
    </div>
  </div>
</nav>