<div class="profile-container">
  <div class="profile-card">
    <div class="profile-header">
      <h3>
        <i class="fas fa-user-circle me-2"></i>Mon Profil
      </h3>
    </div>
    
    <div class="profile-content">
      <div *ngIf="errorMessage" class="alert-message error">
        <i class="fas fa-exclamation-triangle me-2"></i>{{ errorMessage }}
      </div>
      
      <div *ngIf="successMessage" class="alert-message success">
        <i class="fas fa-check-circle me-2"></i>{{ successMessage }}
      </div>

      <div class="user-info-section">
        <h5 class="section-title">
          <i class="fas fa-user me-2"></i>Informations Personnelles
        </h5>
        
        <div *ngIf="!isEditing; else editMode">
          <div class="info-grid">
            <div class="info-item">
              <div class="info-label">
                <i class="fas fa-user me-2"></i>Nom complet
              </div>
              <div class="info-value">{{ currentUser?.prenom }} {{ currentUser?.nom }}</div>
            </div>
            <div class="info-item">
              <div class="info-label">
                <i class="fas fa-envelope me-2"></i>Email
              </div>
              <div class="info-value">{{ currentUser?.email }}</div>
            </div>
            <div class="info-item">
              <div class="info-label">
                <i class="fas fa-phone me-2"></i>Téléphone
              </div>
              <div class="info-value">{{ currentUser?.telephone }}</div>
            </div>
          </div>
        </div>

        <ng-template #editMode>
          <div class="edit-form">
            <div class="form-row">
              <div class="form-group">
                <label>Prénom</label>
                <input type="text" class="form-input" [(ngModel)]="editData.prenom">
              </div>
              <div class="form-group">
                <label>Nom</label>
                <input type="text" class="form-input" [(ngModel)]="editData.nom">
              </div>
            </div>
            
            <div class="form-group">
              <label>Email</label>
              <input type="email" class="form-input" [(ngModel)]="editData.email">
            </div>
            
            <div class="form-group">
              <label>Téléphone</label>
              <input type="tel" class="form-input" [(ngModel)]="editData.tel">
            </div>
          </div>
        </ng-template>
      </div>

      <div class="action-links">
        <div *ngIf="!isEditing; else saveCancelLinks">
          <a class="action-link modifier" (click)="modifierProfil()" [class.disabled]="isLoading">
            <i class="fas fa-edit me-2"></i>
            {{ isLoading ? 'Chargement...' : 'Modifier le Profil' }}
          </a>
          <a class="action-link supprimer" (click)="supprimerCompte()" [class.disabled]="isLoading">
            <i class="fas fa-trash-alt me-2"></i>Supprimer le Compte
          </a>
          <a class="action-link retour" (click)="retourAccueil()">
            <i class="fas fa-home me-2"></i>Retour à l'Accueil
          </a>
        </div>

        <ng-template #saveCancelLinks>
          <a class="action-link sauvegarder" (click)="sauvegarderModifications()" [class.disabled]="isLoading">
            <i class="fas fa-save me-2"></i>
            {{ isLoading ? 'Sauvegarde...' : 'Sauvegarder' }}
          </a>
          <a class="action-link annuler" (click)="annulerModification()" [class.disabled]="isLoading">
            <i class="fas fa-times me-2"></i>Annuler
          </a>
        </ng-template>
      </div>
    </div>
  </div>
</div>