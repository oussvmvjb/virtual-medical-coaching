<div class="login-container d-flex justify-content-center align-items-center vh-100">
  <div class="card shadow-lg p-4 login-card">
    
    <div class="text-center mb-3">
      <h3 class="fw-bold text-medical-blue"><i class="fas fa-key me-2"></i>Réinitialisation du mot de passe</h3>
      <p class="text-muted">Recevez un nouveau mot de passe</p>
    </div>

    <form *ngIf="!isSuccess" (ngSubmit)="onSubmit()" #forgotForm="ngForm">
      <!-- Message d'information -->
      <div class="alert alert-info py-2 mb-3">
        <i class="fas fa-info-circle me-1"></i>
        Entrez votre email pour recevoir un nouveau mot de passe
      </div>

      <!-- Email -->
      <div class="mb-3">
        <label for="email" class="form-label"><i class="fas fa-envelope me-1"></i>Email</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="requestData.email"
          required
          email
          class="form-control form-control-lg"
          placeholder="Entrez votre adresse email">
      </div>

      <!-- Error Message -->
      <div *ngIf="errorMessage" class="alert alert-danger py-2">
        <i class="fas fa-exclamation-triangle me-1"></i> {{ errorMessage }}
      </div>

      <!-- Buttons -->
      <button type="submit" class="btn btn-medical-blue w-100 py-2" 
              [disabled]="!forgotForm.form.valid || isLoading">
        <span *ngIf="!isLoading">
          <i class="fas fa-paper-plane me-1"></i> Envoyer le mot de passe
        </span>
        <span *ngIf="isLoading">
          <i class="fas fa-spinner fa-spin me-1"></i> Envoi en cours...
        </span>
      </button>

      <button type="button" class="btn btn-outline-secondary w-100 py-2 mt-2" 
              (click)="resetForm()" [disabled]="isLoading">
        <i class="fas fa-eraser me-1"></i> Réinitialiser
      </button>
    </form>

    <!-- Success Message -->
    <div *ngIf="isSuccess" class="text-center">
      <i class="fas fa-check-circle fa-3x text-success mb-3"></i>
      <h5 class="text-success mb-3">Email envoyé avec succès !</h5>
      <p class="text-muted mb-3">Vérifiez votre boîte email pour réinitialiser votre mot de passe</p>
      <button class="btn btn-medical-blue w-100 py-2" (click)="goToLogin()">
        <i class="fas fa-sign-in-alt me-1"></i> Retour à la connexion
      </button>
    </div>

    <!-- Links -->
    <div class="text-center mt-3">
      <a (click)="goToLogin()" class="text-decoration-none">
        <i class="fas fa-arrow-left me-1"></i> Retour à la connexion
      </a>
    </div>

  </div>
</div>