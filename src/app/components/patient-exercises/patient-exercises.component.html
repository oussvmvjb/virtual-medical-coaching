<div class="container mt-4">
  <h2 class="text-center mb-4">ğŸ“ Mes exercices</h2>

  <!-- Chargement -->
  <div *ngIf="loading" class="text-center">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Chargement...</span>
    </div>
  </div>

  <!-- Aucun exercice -->
  <div *ngIf="!loading && exercices.length === 0" class="alert alert-info text-center">
    Aucun exercice ne vous a Ã©tÃ© attribuÃ© pour le moment.
  </div>

  <!-- Liste des exercices -->
  <div *ngFor="let exercice of exercices" class="card mb-3 shadow exercise-card">
    
    <div class="card-header d-flex justify-content-between align-items-center">
      <h5 class="mb-0">{{ exercice.titre }}</h5>
      <span [class]="getStatusBadgeClass(exercice.statut)">
        {{ getStatusText(exercice.statut) }}
      </span>
    </div>

    <div class="card-body">

      <div class="row mb-3">
        <div class="col-md-6">
          <strong>ğŸ“– Description :</strong>
          <p>{{ exercice.description }}</p>
        </div>
        <div class="col-md-6">
          <strong>ğŸ”„ FrÃ©quence :</strong>
          <p>{{ getFrequenceText(exercice.frequence) }}</p>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col-md-6">
          <strong>â±ï¸ DurÃ©e :</strong>
          <p>{{ getDureeText(exercice.duree) }}</p>
        </div>
        <div class="col-md-6">
          <strong>ğŸ“… Date de prescription :</strong>
          <p>{{ exercice.dateCreation | date:'dd/MM/yyyy' }}</p>
        </div>
      </div>

      <div class="mb-3">
        <strong>ğŸ¯ Instructions :</strong>
        <p>{{ exercice.instructions }}</p>
      </div>

      <!-- Bouton complÃ©ter -->
      <div *ngIf="exercice.statut === 'ACTIF'" class="text-center">
        <button class="btn btn-success" (click)="markAsCompleted(exercice.id!)">
          âœ” Jâ€™ai terminÃ© cet exercice
        </button>
      </div>

      <div *ngIf="exercice.statut === 'COMPLETE'" class="alert alert-success text-center">
        Exercice terminÃ© !
      </div>

    </div>
  </div>
</div>
