<div class="signup-container">
  <div class="card">
    <div class="card-header">
      <h2>إنشاء حساب جديد</h2>
    </div>
    <div class="card-body">
      <form (ngSubmit)="onSubmit()" #signupForm="ngForm">
        
        <!-- رسائل التوجيه -->
        <div class="alert alert-info">
          <small>
            <i class="fas fa-info-circle"></i>
            تأكد من استخدام بريد إلكتروني ورقم هاتف غير مسجلين مسبقاً
          </small>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="nom">الاسم</label>
              <input
                type="text"
                id="nom"
                name="nom"
                [(ngModel)]="signupData.nom"
                required
                class="form-control"
                placeholder="أدخل الاسم">
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="prenom">اللقب</label>
              <input
                type="text"
                id="prenom"
                name="prenom"
                [(ngModel)]="signupData.prenom"
                required
                class="form-control"
                placeholder="أدخل اللقب">
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="email">البريد الإلكتروني</label>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="signupData.email"
            required
            email
            class="form-control"
            placeholder="أدخل البريد الإلكتروني">
          <small class="form-text text-muted">
            استخدم بريد إلكتروني غير مسجل مسبقاً
          </small>
        </div>

        <div class="form-group">
          <label for="tel">رقم الهاتف</label>
          <input
            type="tel"
            id="tel"
            name="tel"
            [(ngModel)]="signupData.tel"
            required
            class="form-control"
            placeholder="أدخل رقم الهاتف (أرقام فقط)">
          <small class="form-text text-muted">
            أدخل 10-15 رقماً فقط
          </small>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="psw">كلمة المرور</label>
              <input
                type="password"
                id="psw"
                name="psw"
                [(ngModel)]="signupData.psw"
                required
                minlength="6"
                class="form-control"
                placeholder="كلمة المرور"
                (input)="checkPasswordMatch()">
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="confirmPassword">تأكيد كلمة المرور</label>
              <input
                type="password"
                id="confirmPassword"
                name="confirmPassword"
                [(ngModel)]="signupData.confirmPassword"
                required
                class="form-control"
                placeholder="تأكيد كلمة المرور"
                (input)="checkPasswordMatch()">
            </div>
          </div>
        </div>

        <!-- رسائل الخطأ -->
        <div *ngIf="passwordMismatch" class="alert alert-warning">
          <i class="fas fa-exclamation-triangle"></i>
          كلمات المرور غير متطابقة
        </div>

        <div *ngIf="errorMessage" class="alert alert-danger">
          <i class="fas fa-times-circle"></i>
          {{ errorMessage }}
        </div>

        <!-- أزرار -->
        <div class="d-grid gap-2">
          <button
            type="submit"
            class="btn btn-primary btn-lg"
            [disabled]="!signupForm.form.valid || isLoading || passwordMismatch">
            <span *ngIf="!isLoading">
              <i class="fas fa-user-plus"></i>
              إنشاء الحساب
            </span>
            <span *ngIf="isLoading">
              <i class="fas fa-spinner fa-spin"></i>
              جاري إنشاء الحساب...
            </span>
          </button>

          <button
            type="button"
            class="btn btn-outline-secondary"
            (click)="clearForm()"
            [disabled]="isLoading">
            <i class="fas fa-eraser"></i>
            تفريغ الحقول
          </button>
        </div>
      </form>

      <div class="links text-center mt-3">
        <a (click)="goToLogin()" class="link">
          <i class="fas fa-sign-in-alt"></i>
          لديك حساب؟ تسجيل الدخول
        </a>
      </div>
    </div>
  </div>
</div>